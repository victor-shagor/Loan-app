<!DOCTYPE html>
<html lang="en">
<head>
 <meta charset="UTF-8">
 <meta name="viewport" content="width=device-width, initial-scale=1.0">
 <meta http-equiv="X-UA-Compatible" content="ie=edge">
 <title>Quick Credit</title>
 <link rel="stylesheet" href="materialize.min.css">
 <link href="icon.css" rel="stylesheet">
 <link rel="stylesheet" href="styles/index.css">
</head>
<body>
 <header>
  <nav class="nav-wraper">
   <div class="container">
    <a href="index.html" class="brand-logo"><img src="img/logo.png" alt=""></a>
    <a href="#" class="sidenav-trigger" data-target="mobile-links">
      <i class="material-icons">menu</i>
    </a>    
    <ul class="right hide-on-med-and-down">
     <li><a href="#">About</a></li>
     <li><a href="#">Contact</a></li>
     <li><a href="#">Sign Up</a></li>
     <li><a href="#">Login</a></li>
    </ul>
   </div>
  </nav>
  <ul class="sidenav" id="mobile-links">
    <li><a href="#">About</a></li>
    <li><a href="#">Contact</a></li>
    <li><a href="#">Sign Up</a></li>
    <li><a href="#">Login</a></li>
  </ul>
  <div class="background">
    <h1>Welcome to Quick-Credit</h1>
    <p>click the button below and get access to unlimited loan amount</p>
    <a href=#signup class=" btn-large modal-trigger">Get Started</a><br>
    <div class="modal" id="signup">
     <div class="container">
      <form action="">
      <h3>Sign Up</h3>
      <div class="input-field">
       <input type="text" id="firstname">
       <label for="firstname">First Name</label>
      </div>
      <div class="input-field">
        <input type="text" id="lastname">
        <label for="lastname">Last Name</label>
       </div>
       <div class="input-field">
        <!-- <i class="material-icons prefix">email</i> -->
         <input type="email" id="email">
         <label for="email">Email</label>
        </div>
        <div class="input-field">
          <input type="password" id="password">
          <label for="password">password</label>
         </div>
         <div class="input-field">
           <input type="text" id="phonenumber">
           <label for="phonenumber">Phone Number</label>
          </div>
           <a href="#" class="btn-large submit">Submit</a>
          </div>
      <!-- <input type="text" placeholder="First Name">
      <input type="text" placeholder="Last Name">
      <input type="email" placeholder="Email">
      <input type="password" placeholder="password">
      <input type="number" placeholder="phone number"> -->
     </form>
     </div>
      </div>
  </div>
 </header>
 
 <script src="jquery-3.3.1.min.js"></script>
 <script src="materialize.min.js"></script>
<script>
 $(document).ready(function(){
  $('.sidenav').sidenav()
  $('.modal').modal();
  $(".submit").on('click', function(e){
   e.preventDefault()
  let firstname = $('#firstname').val()
  let lastname = $('#lastname').val()
  let email = $('#email').val()
  let password = $('#password').val()
  let phonenumber = $('#phonenumber').val()
  const data = {
   firstname,
   lastname,
   email,
   password,
   phonenumber,
   isAdmin: false
  }
 $.ajax({
    type        : 'GET',
    url         : `http://localhost:4000/user?email=${email}`,
})
    .done(function(res) {
       if(res.length){
        return console.log('user already exist')
       }
       $.ajax({
    type        : 'POST',
    url         : `http://localhost:4000/user`,
    data        :  data,
    dataType    : 'json'
})
.done(function(result) {
        console.log(result)
       })
      })
    
})
 })
</script>
</body>
</html>